<!doctype HTML>
<html>
  <head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r76/three.min.js"></script>-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/aframe/1.2.0/aframe.js"
      integrity="sha512-E71Id1i5xBlc2EftiH5s+mmpPbNJ2+XiCZy+iVb91pHKkCZmxS9WcGHpg/tyAp0mFo/9CuNFg1ey5T03kgP1bA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer">
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/ar.js/2.2.2/aframe-ar.js"
      crossorigin="anonymous"
      referrerpolicy="no-referrer">
    </script>
    <script src="js/aframe-globe-component.js"></script>
    <!--<script src="https://unpkg.com/aframe-openlayers-component/dist/aframe-openlayers-component.min.js"></script>-->
    <title>EOX Augmented Reality Demo</title>
    <style>
      #map {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body style="margin: 0px; overflow: hidden;">

    <!--
    <a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false;">
      <a-assets>
        <eox-map id="map" style="width: 100vh; height: 100vw; z-index: 9001; position: fixed;"></eox-map>
        <div id="map"></div>
      </a-assets>
      <a-marker type="pattern" url="./patterns/hiro.patt">
        <a-sphere 
          id="earth"
          position="0 0.5 0"
          
          ol="map: map;
            aframeEvent: click;
            OlEvent: click;
              pixToVRRatio:200;"
          spinner >
        </a-sphere>
      </a-marker>
      <a-entity camera></a-entity>

      <a-entity updater></a-entity>
    </a-scene>-->
    <a-scene
      vr-mode-ui="enabled: false;"
      stats
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
    >
      <a-entity camera></a-entity>

      <a-marker type="pattern" url="./patterns/hiro.patt">
        <a-entity id="globe" scale="0.0075 0.0075 0.01" globe="
        globe-image-url: //unpkg.com/three-globe/example/img/earth-dark.jpg;
        bump-image-url: //unpkg.com/three-globe/example/img/earth-topology.png;
      "></a-entity>
      </a-marker>
    </a-scene>

    <script>
      // Gen random data
      const N = 300;
      const gData = [...Array(N).keys()].map(() => ({
        lat: (Math.random() - 0.5) * 180,
        lng: (Math.random() - 0.5) * 360,
        size: Math.random() / 3,
        color: ['red', 'white', 'blue', 'green'][Math.round(Math.random() * 3)]
      }));

      const globeEntity = document.getElementById('globe');
      globeEntity.setAttribute('globe', {
        pointsData: gData,
        pointAltitude: 'size',
        pointColor: 'color'
      });
    </script>
  </body>
</html>
